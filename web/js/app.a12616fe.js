(function(e){function t(t){for(var n,l,o=t[0],i=t[1],u=t[2],p=0,m=[];p<o.length;p++)l=o[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&m.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==r[i]&&(n=!1)}n&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},s=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=i;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("8a23"),r=a.n(n);r.a},"38c8":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"","max-height":"1000",flat:""}},[a("v-app-bar-nav-icon")],1),a("v-content",[a("v-container",[a("v-row",{staticClass:"mb-12 align-center"},[a("v-col",{attrs:{cols:"5"}},[a("v-card",{staticClass:"round",attrs:{elevation:"22"}},[e.loadingCurrentWallpaper?a("v-skeleton-loader",{attrs:{type:"image","max-height":"350"}}):e._e(),e.loadingCurrentWallpaper?e._e():a("v-img",{staticClass:"round",attrs:{src:e.currentWallpaper.baseUrl,"max-height":"350"}})],1)],1),a("v-col",{staticClass:"pb-10",attrs:{cols:"7"}},[a("div",{staticClass:"pa-5"},[a("h3",{staticClass:"headline font-weight-bold"},[e._v("Current wallpaper")]),a("v-breadcrumbs",{staticClass:"px-1 pt-1 pb-2",attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[a("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0}])}),a("v-btn",{staticClass:"ma-1",attrs:{outlined:""}},[e._v("Previous")]),a("v-btn",{staticClass:"ma-1",attrs:{outlined:""}},[e._v("Next")]),a("v-btn",{staticClass:"ma-1",attrs:{outlined:""}},[e._v("Random")])],1)])],1),a("v-skeleton-loader",{attrs:{type:"list-item@10",loading:!(e.favorites.length&&e.albums.length)}},[a("h3",{staticClass:"subtitle-1 font-weight-bold ma-3"},[e._v("Selected albums")]),a("v-expansion-panels",{staticClass:"albums",attrs:{accordion:"",multiple:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"py-0",scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-layout",[a("v-checkbox",{attrs:{label:"Favorites",value:e.favorites},nativeOn:{click:function(t){return e.preventExpansion(t)}}})],1)]}}])}),a("v-expansion-panel-content",[a("media-items",{attrs:{"media-items":e.favorites,source:"Favorites"}})],1)],1),e._l(e.albums,(function(t){return a("v-expansion-panel",{key:t.id,on:{change:function(a){return e.loadAlbum(t.id)}}},[a("v-expansion-panel-header",{staticClass:"py-0",scopedSlots:e._u([{key:"default",fn:function(n){return[a("v-layout",[a("v-checkbox",{attrs:{label:t.title,value:t.id},nativeOn:{click:function(t){return e.preventExpansion(t)}},model:{value:e.selectedAlbums,callback:function(t){e.selectedAlbums=t},expression:"selectedAlbums"}})],1)]}}],null,!0)}),a("v-expansion-panel-content",[a("v-skeleton-loader",{attrs:{type:"image",loading:!t.mediaItems}},[a("media-items",{attrs:{"media-items":t.mediaItems,source:t.title}})],1)],1)],1)}))],2)],1)],1)],1)],1)},s=[],l=a("5530"),o=(a("96cf"),a("1da1")),i=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",e._l(e.mediaItems,(function(t){return a("v-col",{key:t.id,staticClass:"pa-1",attrs:{cols:"3",sm:"2",md:"1"}},[a("v-card",{on:{click:function(a){return e.setWallpaper(t,e.source)}}},[a("v-img",{attrs:{src:e._f("medUrl")(t),"lazy-src":e._f("smallUrl")(t),"aspect-ratio":"1"}},[a("v-overlay",{attrs:{absolute:"",value:1==t.loading}},[a("v-progress-circular",{attrs:{indeterminate:""}})],1),e.currentWallpaper?a("v-overlay",{attrs:{absolute:"",color:"blue",value:t.id==e.currentWallpaper.id}},[a("v-icon",[e._v("mdi-check")])],1):e._e()],1)],1)],1)})),1)},c=[],p={name:"mediaItems",props:["mediaItems","source"],methods:{setWallpaper:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n["a"].set(t,"loading",!0),t.source=a,e.next=4,this.$store.dispatch("setWallpaper",{mediaItem:t});case 4:n["a"].set(t,"loading",!1);case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},computed:Object(l["a"])({},Object(i["b"])(["currentWallpaper"]))},m=p,d=a("2877"),v=a("6544"),f=a.n(v),b=a("b0af"),h=a("62ad"),g=a("132d"),w=a("adda"),y=a("a797"),x=a("490a"),_=a("0fd9"),C=Object(d["a"])(m,u,c,!1,null,null,null),I=C.exports;f()(C,{VCard:b["a"],VCol:h["a"],VIcon:g["a"],VImg:w["a"],VOverlay:y["a"],VProgressCircular:x["a"],VRow:_["a"]});var V={name:"App",components:{MediaItems:I},beforeCreate:function(){this.$store.dispatch("getFavorites"),this.$store.dispatch("getAlbums")},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getCurrentWallpaper");case 2:e.loadingCurrentWallpaper=!1;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{loadingCurrentWallpaper:!0}},computed:Object(l["a"])({breadcrumbs:function(){return[{text:this.currentWallpaper.source},{text:this.currentWallpaper.filename}]}},Object(i["b"])(["selectedAlbums","currentWallpaper","favorites","albums"])),methods:{preventExpansion:function(e){e.cancelBubble=!0},loadAlbum:function(e){this.$store.dispatch("getAlbum",{albumId:e})}}},k=V,O=(a("034f"),a("7496")),W=a("40dc"),A=a("5bc1"),j=a("2bc5"),P=a("8336"),S=a("ac7c"),E=a("a523"),$=a("a75b"),R=a("cd55"),U=a("49e2"),F=a("c865"),B=a("0393"),M=a("a722"),T=a("3129"),J=Object(d["a"])(k,r,s,!1,null,null,null),L=J.exports;f()(J,{VApp:O["a"],VAppBar:W["a"],VAppBarNavIcon:A["a"],VBreadcrumbs:j["a"],VBtn:P["a"],VCard:b["a"],VCheckbox:S["a"],VCol:h["a"],VContainer:E["a"],VContent:$["a"],VExpansionPanel:R["a"],VExpansionPanelContent:U["a"],VExpansionPanelHeader:F["a"],VExpansionPanels:B["a"],VIcon:g["a"],VImg:w["a"],VLayout:M["a"],VRow:_["a"],VSkeletonLoader:T["a"]});var N=a("f309"),z=a("fcf4");n["a"].use(N["a"]);var H=new N["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:z["a"].blue.darken1,secondary:z["a"].blue.darken4,accent:z["a"].blue.accent2}}}});a("d5e8"),a("5363"),a("d81d"),a("d3b7");n["a"].use(i["a"]);var q=new i["a"].Store({state:{selectedAlbums:[],currentWallpaper:{},favorites:[],albums:[]},getters:{},mutations:{setCurrentWallpaper:function(e,t){var a=t.mediaItem;e.currentWallpaper=a},setFavorites:function(e,t){var a=t.mediaItems;e.favorites=a},setAlbums:function(e,t){var a=t.albums;e.albums=a},setAlbum:function(e,t){var a=t.albumId,r=t.mediaItems;e.albums=e.albums.map((function(e){return e.id==a&&n["a"].set(e,"mediaItems",r),e}))}},actions:{getCurrentWallpaper:function(e){var t=e.commit;return new Promise((function(e){window.eel.get_current_wallpaper()((function(a){var n=a.source;window.eel.get_media_item(a.id)((function(a){a.source=n,t("setCurrentWallpaper",{mediaItem:a}),e()}))}))}))},setWallpaper:function(e,t){var a=e.commit,n=t.mediaItem;return new Promise((function(e){window.eel.set_wallpaper(n)((function(){a("setCurrentWallpaper",{mediaItem:n}),e()}))}))},getFavorites:function(e){var t=e.commit;window.eel.get_favorites()((function(e){var a=e.mediaItems;t("setFavorites",{mediaItems:a})}))},getAlbums:function(e){var t=e.commit;window.eel.get_albums()((function(e){var a=e.albums;t("setAlbums",{albums:a})}))},getAlbum:function(e,t){var a=e.commit,n=t.albumId;window.eel.get_album_media_items(n)((function(e){var t=e.mediaItems;a("setAlbum",{albumId:n,mediaItems:t})}))}}});a("38c8"),a("4de4");n["a"].filter("smallUrl",(function(e){return e.baseUrl+"=w25-h25"})),n["a"].filter("medUrl",(function(e){return e.baseUrl+"=w150-h150"})),n["a"].config.productionTip=!1,new n["a"]({vuetify:H,store:q,render:function(e){return e(L)}}).$mount("#app")},"8a23":function(e,t,a){}});
//# sourceMappingURL=app.a12616fe.js.map